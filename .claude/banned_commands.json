[
  {
    "regexp": "\\bgit\\s+commit\\b.*--no-verify",
    "explanation": "Using --no-verify bypasses important pre-commit hooks. Please allow the hooks to run to ensure code quality."
  },
  {
    "regexp": "^\\s*rm\\s+-rf\\s+/\\s*$",
    "explanation": "This command would delete the entire filesystem. Please use a more specific path."
  },
  {
    "regexp": "^\\s*rm\\s+-rf\\s+~/?\\s*$",
    "explanation": "This command would delete your entire home directory. Please use a more specific path."
  },
  {
    "regexp": "^\\s*:(){ :|:& };:\\s*$",
    "explanation": "This is a fork bomb that would crash the system. This command is not allowed."
  },
  {
    "regexp": "^\\s*dd\\s+.*of=/dev/[sh]da\\s*$",
    "explanation": "Direct disk writes can corrupt the system. Please use safer file operations."
  },
  {
    "regexp": "^\\s*mkfs\\..*\\s+/dev/",
    "explanation": "Formatting system devices can destroy data. This operation is not allowed."
  },
  {
    "regexp": "^\\s*chmod\\s+-R\\s+777\\s+/",
    "explanation": "Making system directories world-writable is a security risk. Please use more restrictive permissions."
  },
  {
    "regexp": "^\\s*>\\s*/dev/sda",
    "explanation": "Writing directly to disk devices can corrupt the system. This operation is not allowed."
  },
  {
    "regexp": "timeout\\s+\\d+\\s+.*",
    "explanation": "Use the Bash tool's timeout parameter instead of the timeout command for better control and consistency."
  },
  {
    "regexp": "^\\s*cd\\s+",
    "explanation": "Using cd changes the working directory for all subsequent commands. If you need to run commands in a different directory, use a subshell like: (cd /path && command) or use absolute paths."
  },
  {
    "regexp": "\\bpython\\s+-m\\s+pytest\\b",
    "explanation": "Use 'pytest' directly instead of 'python -m pytest' - it's already properly configured in the virtual environment."
  },
  {
    "regexp": "\\bpytest\\b.*\\s+-[a-zA-Z]*v[a-zA-Z]*s[a-zA-Z]*\\s",
    "explanation": "pytest with -v and -s flags together creates excessive verbose output. Run pytest without these flags first. If you truly need verbose output after seeing the results, use separate flags like '-x -v -s' to bypass this check."
  },
  {
    "regexp": "\\b(cd|pushd)\\s+frontend\\b.*(&&|;)\\s*npm",
    "explanation": "Use 'npm ... --prefix frontend' instead of '(cd frontend && npm ...)' to avoid directory changes and follow project conventions."
  },
  {
    "regexp": "\\bpoe\\s+(dev|serve)\\b",
    "explanation": "The dev server is already running and auto-reloading. No need to start/restart it. Check logs at /var/log/family-assistant/dev-server.log if needed."
  },
  {
    "regexp": "\\bpkill\\b.*\\bpoe\\b",
    "explanation": "Don't kill the poe dev server - it's already running and auto-reloading. Check logs at /var/log/family-assistant/dev-server.log if needed."
  },
  {
    "regexp": "\\bnpm\\s+run\\s+dev\\b",
    "explanation": "The dev server is already running on devcontainer-backend-1:5173 with hot reloading. Do not start another instance."
  },
  {
    "regexp": "localhost:5173",
    "explanation": "Use devcontainer-backend-1:5173 instead of localhost:5173. The app is running in a container."
  },
  {
    "regexp": "ss\\s+-tuln.*5173",
    "explanation": "The frontend dev server is running on http://devcontainer-backend-1:5173, not localhost. Use that address for testing."
  },
  {
    "regexp": "2>&1",
    "explanation": "Redirecting stderr to stdout with 2>&1 can cause issues with the Bash tool. Please capture stderr and stdout separately if needed."
  },
  {
    "regexp": "\\bcat\\s+.*\\|\\s*llm\\b",
    "explanation": "Use 'llm -f filename' instead of 'cat file | llm' for better file handling and context preservation."
  },
  {
    "regexp": "\\bllm\\s+.*-m\\s+gemini-2\\.0",
    "explanation": "gemini-2.0 models are outdated. Use gemini-2.5-pro or gemini-2.5-flash instead for better performance."
  }
]

