/* General adjustments */
body {
    margin: 2em; /* Add some breathing room */
}

pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    max-height: 200px; /* Limit height */
    overflow-y: auto;  /* Add scroll */
    background-color: var(--accent-bg); /* Use theme background */
    padding: 0.5em;
    border-radius: 4px;
    border: 1px solid var(--border); /* Use theme border */
}

/* Navigation */
nav {
    margin-bottom: 1.5em;
    border-bottom: 1px solid var(--border);
    padding-bottom: 0.5em;
}
nav a, nav span { /* Added span for non-link text */
    margin-right: 1em;
    text-decoration: none;
}
nav a:hover {
    text-decoration: underline;
}

/* Button styling adjustments */
button, .button-link { /* Added class for link styled as button */
    margin-right: 0.5em; /* Space between buttons */
}
.add-button {
    margin-bottom: 1em;
}
a.button-link { /* Style links to look like buttons */
    display: inline-block;
    padding: 0.5rem 1rem;
    border: 1px solid var(--accent);
    background-color: var(--accent);
    color: var(--accent-text);
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem; /* Match button font size */
    line-height: 1.5; /* Match button line height */
}
a.button-link:hover {
    background-color: var(--accent-hover);
    border-color: var(--accent-hover);
    color: var(--accent-text);
    text-decoration: none;
}


/* index.html specific */
.note-actions form {
    display: inline;
    margin: 0 0.2em;
}
.note-actions button {
    padding: 0.2em 0.5em; /* Smaller buttons for actions */
    font-size: 0.9em;
}
.note-actions a button { /* Style edit button similarly */
     padding: 0.2em 0.5em;
     font-size: 0.9em;
}

/* edit_note.html specific */
.edit-form label {
    display: block;
    margin-bottom: 0.5em;
    font-weight: bold;
}
.edit-form input[type="text"], .edit-form textarea {
    width: 100%;
    margin-bottom: 1em;
    box-sizing: border-box;
}
.edit-form textarea {
    min-height: 200px;
    font-family: monospace; /* Keep monospace for code-like content */
}
.edit-form .buttons {
    margin-top: 1em;
}
.edit-form .buttons a button { /* Ensure cancel button is styled */
    background-color: var(--bg);
    color: var(--text);
    border: 1px solid var(--border);
}
.edit-form .buttons a button:hover {
    background-color: var(--accent-bg);
}


/* message_history.html specific */
.chat-group {
    margin-bottom: 2em;
    border: 1px solid var(--border);
    padding: 1em;
    border-radius: 5px;
    background-color: var(--accent-bg);
}
.chat-header {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 1em; /* Increased margin */
    padding-bottom: 0.5em;
    border-bottom: 1px solid var(--border);
}
.message {
    margin-bottom: 1em; /* Increased margin */
    padding: 0.8em; /* Increased padding */
    border-radius: 4px;
    border: 1px solid var(--border);
}
.user-message {
    background-color: #e1f5fe; /* Keep custom colors for distinction */
    border-color: #b3e5fc;
}
.assistant-message {
    background-color: #f1f8e9; /* Keep custom colors for distinction */
    border-color: #dcedc8;
}
.system-message {
    background-color: #f5f5f5; /* Keep custom colors for distinction */
    border-color: #eeeeee;
    font-style: italic;
}
/* Adjust text color for better contrast on custom backgrounds if needed */
.user-message, .assistant-message, .system-message {
    color: #333; /* Ensure readability */
/* Use theme text color for better adaptability */
/* color: var(--text); */ /* Removing fixed color */
}

.message-meta {
    font-size: 0.8em;
    color: var(--text-light); /* Use theme light text color */
    margin-bottom: 0.4em; /* Increased margin */
}
.message-content {
    white-space: pre-wrap;
    word-wrap: break-word;
}
.tool-info-details {
    margin-top: 0.8em; /* Increased margin */
    background-color: var(--accent-bg); /* Use theme accent background */
    border: 1px solid var(--border); /* Use theme border */
    border-radius: 4px; /* Slight increase */
    padding: 0.5em 0.8em; /* Increased padding */
}
.tool-info-details summary {
    cursor: pointer;
    font-size: 0.9em;
    color: var(--text); /* Use theme text color */
    font-weight: bold; /* Make summary stand out */
}
.tool-info-content {
    margin-top: 0.5em; /* Increased margin */
    font-size: 0.85em;
    color: var(--text-light); /* Use theme light text color */
    background-color: var(--bg); /* Use theme background */
    padding: 0.8em; /* Increased padding */
    border-radius: 4px; /* Slight increase */
    overflow-x: auto;
}
.tool-info-content pre { /* Ensure pre inside details is styled well */
    background-color: #f9f9f9; /* Match parent background */
    border: none;
    padding: 0;
    max-height: none; /* Remove max-height if desired within details */
    overflow-y: visible;
}

/* tasks.html specific */
.tasks-list {
    display: flex; /* Use flexbox for layout */
    flex-direction: column;
    gap: 1.5em; /* Space between cards */
}

.task-card {
    border: 1px solid var(--border);
    border-radius: 5px;
    padding: 1em;
    background-color: var(--bg); /* Default background */
    border-left-width: 5px; /* Make status border more prominent */
    border-left-style: solid;
    border-left-color: var(--border); /* Default border color */
}

/* Status Colors applied to cards */
.task-card.status-pending { background-color: #e3f2fd; border-left-color: #90caf9; }
.task-card.status-processing { background-color: #fff9c4; border-left-color: #fff176; }
.task-card.status-done { background-color: #e8f5e9; border-left-color: #a5d6a7; }
.task-card.status-failed { background-color: #ffebee; border-left-color: #ef9a9a; }
/* Ensure text is readable on status backgrounds */
/* Remove fixed color, allow inheriting from theme or specific adjustments if needed */
.task-card.status-pending, .task-card.status-processing, .task-card.status-done, .task-card.status-failed {
/*  color: #333; */
}


.task-detail {
    margin-bottom: 0.6em; /* Space between details */
    line-height: 1.4;
}

.task-label {
    font-weight: bold;
    margin-right: 0.5em;
    color: var(--text-light); /* Lighter color for label */
}

.task-value {
    /* Styles for the value part, if needed */
    word-wrap: break-word; /* Ensure long values wrap */
}
.task-value.task-id {
    font-family: monospace; /* Monospace for IDs */
    font-size: 0.9em;
}
.task-value.task-status {
    font-weight: bold;
}
.task-value.task-recurrence {
    font-family: monospace;
    font-size: 0.9em;
    background-color: rgba(0,0,0,0.03);
    padding: 0.1em 0.3em;
    border-radius: 3px;
}


.task-payload pre, .task-error pre {
    margin-top: 0.3em; /* Space between label and pre */
    max-height: 150px; /* Slightly more height for context */
    /* Use theme accent background */
    background-color: var(--accent-bg); /* Subtle background for pre */
    padding: 0.5em;
    border-radius: 3px;
}
/* Make internal ID less prominent */
.task-internal-id {
    font-size: 0.8em;
    color: var(--text-light);
    margin-top: 0.8em;
    border-top: 1px dashed var(--border);
    padding-top: 0.5em;
}


/* Optional: Media query to switch back to table on wider screens */
/* @media (min-width: 1024px) { */
    /* Add table-based CSS rules here if desired */
    /* Hide the card layout, show a table */
/* } */

/* Added styles for message history details */
.reasoning-info-details,
.error-traceback-details {
    margin-top: 0.5rem;
    border: 1px solid var(--border);
    border-radius: var(--border-radius);
    padding: 0.5rem;
    background-color: var(--accent-bg); /* Use accent background for visibility */
}

.reasoning-info-details summary,
.error-traceback-details summary {
    cursor: pointer;
    font-weight: bold;
    color: var(--text-light); /* Lighter text for summary */
    margin-bottom: 0.3rem; /* Space below summary */
}

.reasoning-info-content,
.error-traceback-content {
    margin-top: 0.5rem;
    padding: 0.5rem;
    background-color: var(--bg); /* Match main background or keep accent */
    border-radius: var(--border-radius);
    max-height: 300px; /* Limit height */
    overflow-y: auto; /* Add scrollbar if needed */
    white-space: pre-wrap; /* Wrap long lines */
    word-break: break-all; /* Break long words/lines */
    font-size: 0.9em; /* Slightly smaller font */
    border: 1px solid var(--border); /* Add border to pre */
}

.error-summary {
    color: var(--error); /* Use error color for summary */
    font-weight: bold;
}

.error-traceback-content {
    border-left: 3px solid var(--error); /* Add a visual cue for errors */
    color: var(--error); /* Make text error color */
}

.tool-call-item {
    margin-bottom: 0.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px dashed var(--border);
}
.tool-call-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}
hr.tool-separator {
   display: none; /* Hide the old hr if using the item border */
}

/* Adjust message content padding if details blocks look cramped */
.message-content {
    padding-bottom: 0.5rem; /* Add some space at the bottom */
}

/* doc_page.html specific styling */
/* Ensure markdown content has appropriate spacing and readability */
main article, main section { /* Assuming simple.css uses these for content */
    margin-bottom: 1.5em;
}

/* Override simple.css code/pre styles if needed, already somewhat handled */
/* Example: Ensure code blocks have consistent background */
main pre {
    background-color: var(--accent-bg); /* Match other pre blocks */
}
