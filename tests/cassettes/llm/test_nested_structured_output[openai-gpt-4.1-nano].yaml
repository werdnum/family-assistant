interactions:
  - request:
      body: '{"messages":[{"role":"system","content":"You must respond with valid JSON that matches this schema:\n```json\n{\n  \"$defs\": {\n    \"PersonInfo\": {\n      \"description\": \"Person information model.\",\n      \"properties\": {\n        \"name\": {\n          \"title\": \"Name\",\n          \"type\": \"string\"\n        },\n        \"age\": {\n          \"maximum\": 150,\n          \"minimum\": 0,\n          \"title\": \"Age\",\n          \"type\": \"integer\"\n        },\n        \"occupation\": {\n          \"anyOf\": [\n            {\n              \"type\": \"string\"\n            },\n            {\n              \"type\": \"null\"\n            }\n          ],\n          \"default\": null,\n          \"title\": \"Occupation\"\n        }\n      },\n      \"required\": [\n        \"name\",\n        \"age\"\n      ],\n      \"title\": \"PersonInfo\",\n      \"type\": \"object\"\n    }\n  },\n  \"description\": \"Response with nested model.\",\n  \"properties\": {\n    \"person\": {\n      \"$ref\": \"#/$defs/PersonInfo\"\n    },\n    \"summary\": {\n      \"title\": \"Summary\",\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"person\",\n    \"summary\"\n  ],\n  \"title\": \"NestedResponse\",\n  \"type\": \"object\"\n}\n```\n\nRespond ONLY with the JSON object, no additional text or markdown."},{"role":"user","content":"Create a profile for Sarah, age 35, who works as a doctor. Also provide a one-sentence summary about her."}],"model":"gpt-4.1-nano"}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - '1496'
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.92.3
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - Linux
        x-stainless-package-version:
          - 1.92.3
        x-stainless-read-timeout:
          - '600'
        x-stainless-retry-count:
          - '0'
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.13.9
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAA/41Ty46bMBTd5yssryEKCXl1286iUjtq1F3LCDn2JXgKtmWbtlHEv/faJIGZTqVu
          EJxzz7lPLjNCqBT0HaG8Zp63pkk/7L88ZB8X8vB+u3uWj83mfHh4/FQdvh1F/ZkmQaGPz8D9TTXn
          GnXgpVYDzS0wD8E1226zbJUvd/tItFpAE2Qn49N8nqWKKZ0uF8t1usjTLL/Kay05OIz7jp+EXOIz
          FKoE/EZ4kdyQFpxjJ0DsFoSg1U1AKHNOOs+Up8lIcq08qFj7pVCEFNSAdVoVwSMAAVKshQAU9Cuz
          rC5ocmMwWSBW6zuiOe8MC80PCqG517agge+TIYXr2pbZ88SSSEcYESAkD6MibXxriLG6wp7QDT9+
          SV9jlGERIJW2JGTC8glnFuYhST9tzkLVORYmrLqmmRBMKe1jkXGsT1emvw+y0SdMfXSvpLSSSrq6
          xIXijMLQnNeGRrbH51NcWPdiBxSNWuNLr39ATLdaZoMfHQ9lZPPdlfRYYTNRbfbJG36lAM9k4yYr
          p5zxGsQoHe+DdULqCTGbdP13NW95D51Ldfof+5HgHAzutTQ2LPZlx2OYhfAf/SvsPuVYMHVgf+J/
          UeIB2LAJARXrmuG4qTs7D22J6zqBNVYOF16ZcrXaCMjWGcvprJ/9Ac8BMn/wAwAA
      headers:
        CF-RAY:
          - 9ce27eda09fcd295-FRA
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Sun, 15 Feb 2026 05:44:50 GMT
        Server:
          - cloudflare
        Strict-Transport-Security:
          - max-age=31536000; includeSubDomains; preload
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - REDACTED
        openai-processing-ms:
          - '898'
        openai-project:
          - proj_wvaoRBrBR9ayhT5aPMqWgDtI
        openai-version:
          - '2020-10-01'
        set-cookie:
          - __cf_bm=BqARIzValIkVM5Vz.Kb67vONCLDUFOLnIM52REyeRaM-1771134288.9704678-1.0.1.1-PV5PyujVUzjGm9tUY1l7bsg0Oi814c906u7tQQo.7g_qQvvHCfTllAK1CjvVIhnMRIK9kLps4O4juBCydHkBkZ23w2hLJV3oxwfHRNlXYI1gFXjdZ44uAo8vRf15tDuS; HttpOnly; Secure; Path=/; Domain=api.openai.com; Expires=Sun, 15 Feb 2026 06:14:50 GMT
        x-openai-proxy-wasm:
          - v0.1
        x-ratelimit-limit-requests:
          - '500'
        x-ratelimit-limit-tokens:
          - '200000'
        x-ratelimit-remaining-requests:
          - '499'
        x-ratelimit-remaining-tokens:
          - '199687'
        x-ratelimit-reset-requests:
          - 120ms
        x-ratelimit-reset-tokens:
          - 93ms
        x-request-id:
          - req_448afae923674dac8be7612f28598485
      status:
        code: 200
        message: OK
version: 1
